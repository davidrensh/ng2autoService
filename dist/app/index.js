System.registerDynamic("app/environment.js",[],!0,function(a,b,c){"use strict";return b.environment={production:!0},c.exports}),System.registerDynamic("app/admin.component.js",["@angular/core","./role.service","@angular/router","./EmployeeHome","./Booking.Component","./DriverHome","./MemberHome","./Drivers","./Employees","./Report","./AdminLogin","./About","./Signup"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./role.service"),h=a("@angular/router"),i=a("./EmployeeHome"),j=a("./Booking.Component"),k=a("./DriverHome"),l=a("./MemberHome"),m=a("./Drivers"),n=a("./Employees"),o=a("./Report"),p=a("./AdminLogin"),q=a("./About"),r=a("./Signup"),s=function(){function a(a,b){this.router=a,this.rs=b,this.logout()}return a.prototype.logout=function(){this.rs.role=0,this.router.navigateByUrl("/admin/AdminLogin")},a=d([f.Component({directives:[h.ROUTER_DIRECTIVES],selector:"app-admin",templateUrl:"app/admin.component.html",styleUrls:["app/admin.component.css"]}),h.Routes([{path:"/",component:p.AdminLogin},{path:"/admin",component:p.AdminLogin},{path:"#/admin",component:p.AdminLogin},{path:"/Signup",component:r.Signup},{path:"/AdminLogin",component:p.AdminLogin},{path:"/MemberHome",component:l.MemberHome},{path:"/DriverHome",component:k.DriverHome},{path:"/EmployeeHome",component:i.EmployeeHome},{path:"/Booking",component:j.BookingComponent},{path:"/Report",component:o.Report},{path:"/Drivers",component:m.Drivers},{path:"/Employees",component:n.Employees},{path:"/About",component:q.About}]),e("design:paramtypes",[h.Router,g.RoleService])],a)}();return b.AdminComponent=s,c.exports}),System.registerDynamic("app/s4.component.js",["@angular/core","@angular/common","./role.service","@angular/router","./MemberHome","./Login","./Signup","./About"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/common"),h=a("./role.service"),i=a("@angular/router"),j=a("./MemberHome"),k=a("./Login"),l=a("./Signup"),m=a("./About"),n=function(){function a(a,b,c){this.router=a,this.rs=b,this.loc=c,this.logout()}return a.prototype.logout=function(){this.rs.role=0,"/admin"===location.pathname?this.router.navigateByUrl("/admin/AdminLogin"):this.router.navigateByUrl("/home/Login")},a=d([f.Component({selector:"s4-app",directives:[i.ROUTER_DIRECTIVES],templateUrl:"app/s4.component.html",styleUrls:["app/s4.component.css"]}),i.Routes([{path:"/home",component:k.Login},{path:"/Login",component:k.Login},{path:"/MemberHome",component:j.MemberHome},{path:"/Signup",component:l.Signup},{path:"/About",component:m.About}]),e("design:paramtypes",[i.Router,h.RoleService,g.Location])],a)}();return b.S4AppComponent=n,c.exports}),System.registerDynamic("app/Login.js",["@angular/core","./role.service","@angular/common","@angular/router","ng2-bootstrap/ng2-bootstrap","angularfire2"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./role.service"),h=a("@angular/common"),i=a("@angular/router"),j=a("ng2-bootstrap/ng2-bootstrap"),k=a("angularfire2"),l=function(){function a(a,b,c,d,e){this.router=a,this.zone=b,this.rs=c,this.af=d,this.loc=e}return a.prototype.authWithPassword=function(a,b){var c=this;this.errmsg="",b&&void 0!==b||(b=this.rs.clearPhone(a)),this.af.auth.login({email:this.rs.genEmail(a),password:this.password.trim().toLowerCase()}).then(function(a){c.authData=a,c.rs.uid=a.uid;var b=c.af.object("/users/"+c.authData.uid);b.update({lastlogin:(new Date).toISOString()}),b.subscribe(function(a){a.role;c.rs.dealer=a.dealername,c.rs.role=a.role,c.rs.uid=a.uid,c.rs.ownerId=a.ownerid,c.rs.phone=a.phone,c.rs.fname=a.fname,c.rs.lname=a.lname,c.loc.path().indexOf("/Login")>-1&&c.router.navigate(["/home/MemberHome"])})})["catch"](function(a){c.errmsg=a,console.log(a)}),setTimeout(function(){c.errmsg=""},5e3)},a.prototype.doneTypingPhone=function(a,b,c){this.errmsg="",c.focus(),c.select()},a=d([f.Component({selector:"display",template:'\n        <div class="vertical-center">\n            <div class="container">\n                <div class="span12  centered-text  text-xs-center text-lg-center  text-md-center col-xs-12 col-sm-12  col-md-8 col-lg-offset-4 col-lg-4">\n                    <div class="card ">\n                        <div class="card-header card-inverse card-info">\n                            3S Auto Customer Service\n                        </div>\n\n                        <div class="card-block">\n                            <input class="form-control" required [(ngModel)]="phone" placeholder="Phone number" (keyup.enter)="doneTypingPhone($event,phone,pass)"><br>\n                            <input class="form-control" #pass type="password" required [(ngModel)]="password" placeholder="Last name" (keyup.enter)="btngo.focus()"><br>\n                            <button class="btn btn-primary-outline btn-sm" #btngo [disabled]="!(phone && password)" (click)="authWithPassword(phone,password)">Sign in</button>\n                        </div>\n                        <div *ngIf="errmsg" class="card-footer card-inverse card-warning">\n                            {{errmsg}}\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n\n	',directives:[h.NgFor,j.ACCORDION_DIRECTIVES,h.CORE_DIRECTIVES,h.FORM_DIRECTIVES]}),e("design:paramtypes",[i.Router,f.NgZone,g.RoleService,k.AngularFire,h.Location])],a)}();return b.Login=l,c.exports}),System.registerDynamic("app/About.js",["@angular/core"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=function(){function a(){}return a=d([f.Component({selector:"about",template:'\n            <div class=" text-xs-center text-lg-center  text-md-center col-xs-12 col-sm-12  col-md-8 col-lg-offset-2 col-lg-8">\n            <div class="card ">\n                        <div class="card-header card-inverse card-info">\n                            3S Auto Customer Service\n                        </div>\n                        <div class="card-block">\n                            <blockquote class="card-blockquote">\n                            <p>    \n                                New generation cloud based 3S Auto Customer Service System.<br>\n                                <br><br>\n                                \n                                David Ren<br>\n                                780-292-6213 <br>\n                                davidrensh@hotmail.com <br>\n                            </p>\n                            </blockquote>\n                        </div>\n                        <div class="card-footer text-muted">\n                            Product of Meridian IT Service\n                        </div>\n\n            </div>\n            </div>\n'}),e("design:paramtypes",[])],a)}();return b.About=g,c.exports}),System.registerDynamic("app/MemberHome.js",["@angular/core","./role.service","@angular/router","angularfire2"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./role.service"),h=a("@angular/router"),i=a("angularfire2"),j=function(){function a(b,c,d){var e=this;this.af=c,this.rs=d,this.loaded=!1,this.switchoildate=!1,this.swicthtiredate=!1,this.showmap=!1,this.carname="",this.hstep=1,this.mstep=5,this.ismeridian=!1,this.pickuptime=new Date,this.changedate=new Date,this.changetiredate=new Date,this.bookmsg="",this.comment="",this.parentRouter=b,this.uid=this.rs.uid,this.phone=this.rs.phone,this.dealers=this.af.list("/phone/"+this.phone+"/dealers"),this.dealers.subscribe(function(b){b&&b.map(function(b){a.s_dealer=b})}),setTimeout(function(){e.selectDealer(a.s_dealer)},1e3)}return a.prototype.selectDealer=function(a){this.selecteddealer=a.dealername,this.ownerid=a.uid,this.load(this.phone)},a.prototype.bookOil=function(a,b){var c=this,d=this.rs.getTodayId();this.af.database.object("/dealers/"+this.ownerid+"/book/"+d+"/"+this.uid).update({bookdate:d,car:a.car,fname:this.fname,lname:this.lname,phone:this.phone,uid:this.uid,processed:!1,mycomment:b}),this.af.database.object("/phone/"+this.phone+"/dealers/"+this.selecteddealer+"/cars/"+a.car).update({bookedchangedate:"",mycomment:b}),this.bookmsg="Booked",setTimeout(function(){c.bookmsg=""},5e3)},a.prototype.load=function(a){var b=this;return this.loaded=!0,this.af.database.object("/phone/"+this.rs.clearPhone(a)).subscribe(function(a){a&&(a.fname&&(b.fname=a.fname),a.lname&&(b.lname=a.lname),b.phone=a.phone)}),this.cars=this.af.database.list("/phone/"+this.rs.clearPhone(a)+"/dealers/"+this.selecteddealer+"/cars"),!1},a=d([f.Component({selector:"home",directives:[h.ROUTER_DIRECTIVES],template:'\n<div class=" text-xs-center text-lg-center  text-md-center col-xs-12 col-sm-12  col-md-8 col-lg-offset-2 col-lg-8">\n    <div class="card ">\n        <div class="card-header card-inverse card-info">\n            3S Auto Customer Service - {{fname}} {{lname}} {{phone}}\n        </div>\n        <div class="card-block">\n            <div *ngIf="dealers">\n                <label *ngFor="let d of dealers | async">\n                    <input class="radio-inline" type="radio" name="ndealers" (click)="selectDealer(d)" checked="checked"> {{d.dealername }}  &nbsp; &nbsp;\n                </label>\n            </div>\n            <div class="card-group">\n            <div class="card  text-xs-left  text-lg-left" *ngFor="let k of cars | async">\n                <div class="card-header">\n                    {{k.car}}\n                </div>\n                <div class="card-block">\n                    <p class="card-text">    \n                        Next oil chnage mileage: <span style="color:green">{{k.changemile}}</span><br>\n                        Next oil change date: <span style="color:orange">{{k.changedate}}</span><br>\n                        Next tire change date: <span style="color:orange">{{k.changetiredate}}</span><br>\n                        My comment:  <span style="color:GoldenRod">{{k.mycomment}}</span>\n                    </p>\n                    <div *ngIf="k.bookedchangedate" class="alert alert-danger" role="alert">\n                        Booked service date: <span style="color:red">{{k.bookedchangedate}}</span><br>\n                        Processed by: {{k.processedby}} \n                        <span style="color:red">{{k.comment}}</span>\n                    </div>\n                </div>\n                <div class="card-footer text-xs-center  text-lg-center">\n                    <input class="form-control" [(ngModel)]="comment" placeholder="Comment" >\n                    <button class="btn btn-primary-outline btn-sm" (click)="bookOil(k, comment)">Book service</button>\n                    <div *ngIf="bookmsg" style="color:green">\n                        {{bookmsg}}\n                    </div>\n                </div>\n            </div>\n            </div>\n        </div>\n\n        <div class="card-footer text-xs-center  text-lg-center alert alert-warning">\n                <strong>FYI:</strong> Your previous service store will call you after you click "Book service" button.\n        </div>\n    </div>\n</div>  '}),e("design:paramtypes",[h.Router,i.AngularFire,g.RoleService])],a)}();return b.MemberHome=j,c.exports}),System.registerDynamic("app/google-map.directive.js",["@angular/core","./maps.service"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./maps.service"),h=function(){function a(a,b){this.maps=a,this.elementRef=b}return a.prototype.ngOnInit=function(){var a=this.elementRef.nativeElement.querySelector("#map");this.createMap(a)},a.prototype.ngOnChanges=function(a){a.center&&this.maps.setCenter(this.center),a.zoom&&this.maps.setZoom(this.zoom)},a.prototype.createMap=function(a){console.log("createMap"+this.center+this.mapTypeId),this.maps.initMap(a,{center:this.center,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,mapTypeId:this.mapTypeId,maxZoom:this.maxZoom,minZoom:this.minZoom,styles:this.styles,zoom:this.zoom})},d([f.Input(),e("design:type",google.maps.LatLng)],a.prototype,"center",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"zoom",void 0),d([f.Input(),e("design:type",Boolean)],a.prototype,"disableDefaultUI",void 0),d([f.Input(),e("design:type",Boolean)],a.prototype,"disableDoubleClickZoom",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"mapTypeId",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"maxZoom",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"minZoom",void 0),d([f.Input(),e("design:type",Array)],a.prototype,"styles",void 0),a=d([f.Component({selector:"google-map",template:'\n        <div id="map"></div>\n        <ng-content></ng-content>\n        '}),e("design:paramtypes",[g.MapsService,f.ElementRef])],a)}();return b.GoogleMapDirective=h,c.exports}),System.registerDynamic("app/google-map-marker.directive.js",["@angular/core","./maps.service"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./maps.service"),h=function(){function a(a){this.maps=a}return a.prototype.ngOnChanges=function(a){a.position&&this.maps.addMarker(this.position,this.title,this.content)},d([f.Input(),e("design:type",google.maps.LatLng)],a.prototype,"position",void 0),d([f.Input(),e("design:type",String)],a.prototype,"title",void 0),d([f.Input(),e("design:type",String)],a.prototype,"content",void 0),a=d([f.Directive({selector:"google-map-marker"}),e("design:paramtypes",[g.MapsService])],a)}();return b.GoogleMapMarkerDirective=h,c.exports}),System.registerDynamic("app/maps.service.js",["@angular/core"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=function(){function a(){this.markers=[]}return a.prototype.initMap=function(a,b){var c=this;this.map=new google.maps.Map(a,b),window.addEventListener("resize",function(){c.resize()})},a.prototype.resize=function(){var a=this.map.getCenter();google.maps.event.trigger(this.map,"resize"),this.map.setCenter(a)},a.prototype.setCenter=function(a){null!=this.map&&null!=a&&this.map.panTo(a)},a.prototype.setZoom=function(a){null!=this.map&&this.map.setZoom(a)},a.prototype.addMarker=function(a,b,c){if(null!=this.map&&null!=a){var d=new google.maps.Marker({position:a,title:b});if(d.setMap(this.map),null!=c){var e=this.map.getDiv().clientWidth,f=new google.maps.InfoWindow({content:c,maxWidth:e});d.addListener("click",function(){f.open(this.map,d)})}this.markers.push(d)}},a.prototype.deleteMarkers=function(){for(var a=0;a<this.markers.length;a++)this.markers[a].setMap(null);this.markers=[]},a=d([f.Injectable(),e("design:paramtypes",[])],a)}();return b.MapsService=g,c.exports}),System.registerDynamic("app/geolocation.service.js",["@angular/core","rxjs/Observable"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("rxjs/Observable"),h=function(){function a(){}return a.prototype.getCurrentPosition=function(){return new g.Observable(function(a){navigator.geolocation.getCurrentPosition(function(b){a.next(b),a.complete()},function(b){console.log("Geolocation service: "+b.message),a.error(b)})})},a=d([f.Injectable(),e("design:paramtypes",[])],a)}();return b.GeolocationService=h,c.exports}),System.registerDynamic("app/geocoding.service.js",["@angular/core","rxjs/Observable"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("rxjs/Observable"),h=function(){function a(){this.geocoder=new google.maps.Geocoder}return a.prototype.geocode=function(a){var b=this;return new g.Observable(function(c){b.geocoder.geocode({location:a},function(a,b){b===google.maps.GeocoderStatus.OK?(c.next(a),c.complete()):(console.log("Geocoding service: geocoder failed due to: "+b),c.error(b))})})},a.prototype.codeAddress=function(a){var b=this;return new g.Observable(function(c){b.geocoder.geocode({address:a},function(a,b){b===google.maps.GeocoderStatus.OK?(c.next(a),c.complete()):(console.log("Geocoding service: geocode was not successful for the following reason: "+b),c.error(b))})})},a=d([f.Injectable(),e("design:paramtypes",[])],a)}();return b.GeocodingService=h,c.exports}),System.registerDynamic("app/EmployeeHome.js",["@angular/core","./role.service","@angular/router","angularfire2","ng2-bootstrap/components/datepicker","ng2-bootstrap/components/timepicker","ng2-bootstrap/components/tabs","./google-map.directive","./google-map-marker.directive","./maps.service","./geolocation.service","./geocoding.service","angular2-google-maps/core"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./role.service"),h=a("@angular/router"),i=a("angularfire2"),j=a("ng2-bootstrap/components/datepicker"),k=a("ng2-bootstrap/components/timepicker"),l=a("ng2-bootstrap/components/tabs"),m=a("./google-map.directive"),n=a("./google-map-marker.directive"),o=a("./maps.service"),p=a("./geolocation.service"),q=a("./geocoding.service"),r=a("angular2-google-maps/core"),s=function(){function a(a,b,c,d,e,f){this.af=b,this.rs=c,this.maps=d,this.geolocation=e,this.geocoding=f,this.checked=!1,this.switchoildate=!1,this.swicthtiredate=!1,this.showmap=!1,this.carname="",this.hstep=1,this.mstep=5,this.isspinner=!0,this.ismeridian=!1,this.pickuptime=new Date,this.changedate=new Date,this.changetiredate=new Date,this.changedatestr="",this.changetiredatestr="",this.isLoggedIn=!1,this.customeruid="",this.lat=51.673858,this.lng=7.815982,this.parentRouter=a,this.changedate.setDate((new Date).getDate()+180),this.changetiredate.setDate((new Date).getDate()+180),this.changedatestr=this.changedate.toISOString().substr(0,10),this.changetiredatestr=this.changetiredate.toISOString().substr(0,10),(new Date).getHours()+6<24&&this.pickuptime.setHours((new Date).getHours()+6),this.pickuptime.setMinutes(0),this.selecteddealer=this.rs.dealer,this.uid=this.rs.uid,this.ownerid=this.rs.ownerId,this.employeephone=this.rs.phone,this.ownerid&&this.selecteddealer||this.parentRouter.navigateByUrl("/admin/AdminLogin"),this.center=new google.maps.LatLng(41.910943,12.476358),this.zoom=4,this.disableDefaultUI=!0,this.disableDoubleClickZoom=!1,this.mapTypeId=google.maps.MapTypeId.ROADMAP,this.maxZoom=15,this.minZoom=4,this.styles=[{featureType:"landscape",stylers:[{color:"#ffffff"}]}],this.address="",this.warning=!1,this.message=""}return a.prototype.processRegister=function(a,b,c,d){var e=this;a=this.rs.clearPhone(a),this.loadCustomer(a,!1,!1),setTimeout(function(){e.customeruid&&""!==e.customeruid||e.SaveCustomer(b,c,a,d)},1e3)},a.prototype.signupShuttle=function(a,b,c,d,e,f,g){var h=this;if(this.customeruid){var i=(new Date).toISOString().substr(0,10);e||(e=!1),g||(g=""),this.af.database.object("/phone/"+c).update({lat:this.lat,lng:this.lng,address:d}),this.af.database.object("/users/"+this.ownerid+"/shuttle/"+i+"/"+c.trim()).update({fname:a,lname:b,phone:c,lat:this.lat,lng:this.lng,address:d,dropoffdone:!1,pickup:e,pickuptime:f.toLocaleTimeString(),pickupcomment:g,pickupdone:!1}),this.bookmsg="Booked!",setTimeout(function(){h.bookmsg=""},5e3)}return!1},a.prototype.clean=function(){this.fname="",this.lname="",this.phone="",this.address="",this.pickup=!1,this.pickupcomment="",this.carname="",this.changemile=0,this.cars=null,this.errmsg="",this.showmap=!1,this.switchoildate=!1,this.swicthtiredate=!1,this.customeruid="",this.checked=!1,a.s_car=null,(new Date).getHours()+6<24&&this.pickuptime.setHours((new Date).getHours()+6)},a.prototype.saveOilChange=function(a,b,c,d,e,f){var g=this;this.carname=this.carname.toUpperCase(),this.af.database.object("/phone/"+a.trim()+"/dealers/"+this.selecteddealer).update({dealername:this.selecteddealer,uid:this.ownerid}),this.af.database.object("/phone/"+a.trim()+"/dealers/"+this.selecteddealer+"/cars/"+this.carname).update({car:this.carname,changemile:b,changedate:c}),this.cars=this.af.database.list("/phone/"+this.phone.trim()+"/dealers/"+this.selecteddealer+"/cars"),this.oilmsg="Saved!",setTimeout(function(){g.oilmsg=""},5e3)},a.prototype.saveTireChange=function(a,b,c,d,e){var f=this;this.carname=this.carname.toUpperCase(),this.af.database.object("/phone/"+a.trim()+"/dealers/"+this.selecteddealer).update({dealername:this.selecteddealer,uid:this.ownerid}),this.af.database.object("/phone/"+a.trim()+"/dealers/"+this.selecteddealer+"/cars/"+this.carname).update({car:this.carname,changetiredate:b}),this.cars=this.af.database.list("/phone/"+this.phone.trim()+"/dealers/"+this.selecteddealer+"/cars"),this.tiremsg="Saved!",setTimeout(function(){f.tiremsg=""},5e3)},a.prototype.SaveCustomer=function(b,c,d,e){var f=this;d=this.rs.clearPhone(d);var g=this.rs.genEmail(d);a.s_err="",this.customeruid="";var h=c.trim().toLowerCase();localStorage.setItem("uid",""),this.af.auth.createUser({email:g,password:h}).then(function(a){localStorage.setItem("uid",a.uid)})["catch"](function(b){switch(b.code){case"INVALID_EMAIL":a.s_err="The specified phone is invalid.";break;default:a.s_err="Error creating user:"+b;break;case"EMAIL_TAKEN":a.s_err="The new customer account cannot be created because the phone is already in use. Use the credential to login."}}),setTimeout(function(){f.errmsg=a.s_err;var g=localStorage.getItem("uid");""!=g&&(f.customeruid=g,f.af.object("/users/"+g).update({uid:g,email:"",fname:b,lname:c,phone:d,role:1,ownerid:"",dealername:"",password:h,address:e}),f.af.database.object("/phone/"+d).update({uid:g,email:"",fname:b,lname:c,phone:d,address:e}))},1200),setTimeout(function(){f.errmsg=""},1e4)},a.prototype.doneTypingPhone=function(a){this.loadCustomer(a,!0,!0)},a.prototype.loadCustomer=function(b,c,d){var e=this;d&&this.clean(),this.phone=this.rs.clearPhone(b),this.selecteddealer&&""!=this.selecteddealer&&this.phone&&""!=this.phone.trim()&&(this.errmsg="",this.af.database.object("/phone/"+this.phone).subscribe(function(b){e.checked=!0,b&&void 0!==b.uid?(e.customeruid=b.uid,e.fname=b.fname,e.lname=b.lname,b.address?e.address=b.address:e.address="",e.cars=e.af.database.list("/phone/"+e.phone.trim()+"/dealers/"+e.selecteddealer+"/cars"),e.cars.subscribe(function(b){b.map(function(b){a.s_car=b})})):(e.customeruid="",c&&(e.errmsg="Not register yet.",setTimeout(function(){e.errmsg=""},5e3)))}),setTimeout(function(){!e.errmsg&&a.s_car&&e.loadCar(a.s_car)},1e3))},a.prototype.deleteCar=function(a){this.af.database.object("/phone/"+this.phone.trim()+"/dealers/"+this.selecteddealer+"/cars/"+a).remove()},a.prototype.loadCar=function(a){this.carname=a.car.toUpperCase(),a.changetiredate&&(this.changetiredate=new Date(a.changetiredate),this.changetiredatestr=a.changetiredate),a.changemile&&(this.changemile=a.changemile),a.changedate&&(this.changedate=new Date(a.changedate),this.changedatestr=a.changedate)},a.prototype.setChangeTireDate=function(a){this.changetiredatestr=a.toISOString().substr(0,10)},a.prototype.setChangeDate=function(a){this.changedatestr=a.toISOString().substr(0,10)},a.prototype.loadChangeTireDate=function(a){this.changetiredate=new Date(a)},a.prototype.loadChangeDate=function(a){this.changedate=new Date(a)},a.prototype.doneTypingLname=function(a){this.errmsg="",13===a.which},a.prototype.doneTypingEmail=function(a,b){b.focus(),b.select()},a.prototype.search=function(a){var b=this;""!=a&&(this.showmap=!0,this.warning=!1,this.message="",this.geocoding.codeAddress(a).forEach(function(a){b.center.equals(a[0].geometry.location)||(b.lat=a[0].geometry.location.lat(),b.lng=a[0].geometry.location.lng(),b.zoom=11)},null).then(function(){})["catch"](function(a){a===google.maps.GeocoderStatus.ZERO_RESULTS&&(b.message="zero results",b.warning=!0)}))},a.s_err="",a=d([f.Component({selector:"homeemp",directives:[l.TAB_DIRECTIVES,h.ROUTER_DIRECTIVES,k.TimepickerComponent,j.DATEPICKER_DIRECTIVES,r.ANGULAR2_GOOGLE_MAPS_DIRECTIVES,m.GoogleMapDirective,n.GoogleMapMarkerDirective],providers:[o.MapsService],viewProviders:[p.GeolocationService,q.GeocodingService],styles:["\n    .sebm-google-map-container {\n       height: 300px; width: 700px;\n     }\n  "],templateUrl:"app/EmployeeHome.html"}),e("design:paramtypes",[h.Router,i.AngularFire,g.RoleService,o.MapsService,p.GeolocationService,q.GeocodingService])],a)}();return b.EmployeeHome=s,c.exports}),System.registerDynamic("app/DriverHome.js",["@angular/core","./role.service","@angular/router","angularfire2","angular2-google-maps/core","ng2-bootstrap/components/datepicker","ng2-bootstrap/components/timepicker"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./role.service"),h=a("@angular/router"),i=a("angularfire2"),j=a("angular2-google-maps/core"),k=a("ng2-bootstrap/components/datepicker"),l=a("ng2-bootstrap/components/timepicker"),m=function(){function a(b,c,d){var e=this;this.af=c,this.rs=d,this.show=!0,this.showall=!1,this.showallButtonFace="Only mine",this.switchoildate=!1,this.swicthtiredate=!1,this.hstep=1,this.mstep=5,this.ismeridian=!1,this.pickuptime=new Date,this.changedate=new Date,this.changetiredate=new Date,this.isLoggedIn=!1,this.lat=51.673858,this.lng=7.815982,this.markers=[],this.parentRouter=b,this.changedate.setDate((new Date).getDate()+180),this.changetiredate.setDate((new Date).getDate()+180),(new Date).getHours()+6<24&&this.pickuptime.setHours((new Date).getHours()+6),this.selecteddealer=this.rs.dealer,this.uid=this.rs.uid,this.ownerid=this.rs.ownerId,this.phone=this.rs.phone,this.fname=this.rs.fname,this.lname=this.rs.lname,this.ownerid&&this.selecteddealer||this.parentRouter.navigateByUrl("/admin/AdminLogin"),this.showall=!0;var f=(new Date).toISOString().substr(0,10);this.Jobs=this.af.database.list("/users/"+this.ownerid+"/shuttle/"+f),this.af.database.list("/users/"+this.ownerid+"/shuttle/"+f,{query:{limitToLast:1}}).subscribe(function(b){b&&b.map(function(b){b&&(a.s_lat=b.lat,a.s_lng=b.lng)})}),setTimeout(function(){e.lat=a.s_lat,e.lng=a.s_lng},1e3),this.zoom=11,this.disableDefaultUI=!0,this.disableDoubleClickZoom=!1,this.address="",this.warning=!1,this.message=""}return a.prototype.setshowall=function(){void 0===this.showall?this.showall=!0:this.showall=!this.showall;var a=(new Date).toISOString().substr(0,10);this.showall?(this.showallButtonFace="Only mine",this.Jobs=this.af.database.list("/users/"+this.ownerid+"/shuttle/"+a)):(this.showallButtonFace="Show all",this.Jobs=this.af.database.list("/users/"+this.ownerid+"/shuttle/"+a,{query:{orderByChild:"dropby",equalTo:this.fname+" "+this.lname.charAt(0)}}))},a.prototype.dropoffCustomer=function(a){var b=(new Date).toISOString().substr(0,10);
this.af.database.object("/users/"+this.ownerid+"/shuttle/"+b+"/"+a.phone.trim()).update({dropoffdone:!0,dropby:this.fname+" "+this.lname.charAt(0),droptime:(new Date).toLocaleTimeString()})},a.prototype.pickupCustomer=function(a){var b=(new Date).toISOString().substr(0,10);this.af.database.object("/users/"+this.ownerid+"/shuttle/"+b+"/"+a.phone.trim()).update({pickupdone:!0,pickupby:this.fname+" "+this.lname.charAt(0),pickuptime:(new Date).toLocaleTimeString()})},a.s_lat=0,a.s_lng=0,a.s_items=[],a.s_showall=!1,a=d([f.Component({selector:"home",directives:[h.ROUTER_DIRECTIVES,l.TimepickerComponent,k.DATEPICKER_DIRECTIVES,j.ANGULAR2_GOOGLE_MAPS_DIRECTIVES],styles:["\n    .sebm-google-map-container {\n       height: 300px; width: 700px;\n     }\n  "],templateUrl:"app/DriverHome.html"}),e("design:paramtypes",[h.Router,i.AngularFire,g.RoleService])],a)}();return b.DriverHome=m,c.exports}),System.registerDynamic("app/Drivers.js",["@angular/core","./role.service","@angular/router","angularfire2","ng2-bootstrap/components/datepicker","ng2-bootstrap/components/timepicker","ng2-bootstrap/components/tabs"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./role.service"),h=a("@angular/router"),i=a("angularfire2"),j=a("ng2-bootstrap/components/datepicker"),k=a("ng2-bootstrap/components/timepicker"),l=a("ng2-bootstrap/components/tabs"),m=function(){function a(a,b,c){this.af=b,this.rs=c,this.employeeErrMsg="",this.driverErrMsg="",this.suredeleteDriver=!1,this.suredeleteEmployee=!1,this.isLoggedIn=!1,this.parentRouter=a,this.selecteddealer=this.rs.dealer,this.uid=this.rs.uid,this.ownerid=this.rs.ownerId,this.phone=this.rs.phone,this.ownerid&&this.selecteddealer||this.parentRouter.navigateByUrl("/admin/AdminLogin"),this.loadDriver()}return a.prototype.SaveDriver=function(b,c,d,e,f){var g=this,h=this.rs.genEmail(d);return e&&void 0!==e||(e=this.rs.clearPhone(d)),a.s_uid="",this.af.auth.createUser({email:h,password:e}).then(function(b){a.s_uid=b.uid})["catch"](function(b){switch(b.code){case"INVALID_EMAIL":a.s_err="The specified phone is invalid.";break;default:a.s_err="Error creating user:"+b;break;case"EMAIL_TAKEN":a.s_err="The new user account cannot be created because the phone is already in use. Use the credential to setup driver."}}),setTimeout(function(){g.driverErrMsg=""},1e4),setTimeout(function(){g.driverErrMsg=a.s_err;var e=a.s_uid;""!=e&&(g.driverErrMsg="",g.af.database.object("/users/"+g.ownerid+"/drivers/"+e).update({uid:e,email:"",fname:b,lname:c,phone:d,address:""}),g.af.object("/users/"+e).update({uid:e,email:"",fname:b,lname:c,phone:d,role:2,ownerid:g.ownerid,dealername:g.selecteddealer,password:"secret",address:""}))},1e3),!0},a.prototype.selectDriver=function(a){this.selectedDriver=a.uid,this.driverfname=a.fname,this.driverlname=a.lname,this.driveraddress=a.address,this.driverphone=a.phone},a.prototype.deleteDriver=function(){this.af.object("/users/"+this.selectedDriver).remove(),this.af.object("/users/"+this.ownerid+"/drivers/"+this.selectedDriver).remove(),this.suredeleteDriver=!1,this.loadDriver()},a.prototype.clearAll=function(){this.Drivers=null,a.s_driver=null,this.selectedDriver="",this.driverfname="",this.driverlname="",this.driveraddress="",this.driverphone="",a.s_err=""},a.prototype.loadDriver=function(){var b=this;this.clearAll(),this.Drivers=this.af.database.list("/users/"+this.ownerid+"/drivers");var c=this.af.database.list("/users/"+this.ownerid+"/drivers",{query:{limitToFirst:1}});c.subscribe(function(b){b&&b.map(function(b){a.s_driver=b})}),setTimeout(function(){a.s_driver&&b.selectDriver(a.s_driver)},1e3)},a.s_uid="",a.s_err="",a=d([f.Component({selector:"owner",directives:[l.TAB_DIRECTIVES,h.ROUTER_DIRECTIVES,k.TimepickerComponent,j.DATEPICKER_DIRECTIVES],template:'\n            <div class="text-xs-center text-lg-center  text-md-center col-xs-12 col-sm-12  col-md-8 col-lg-offset-2 col-lg-8">\n            <div class="card">\n                <div class="card-header card-inverse card-info">\n                    {{selecteddealer}} &nbsp; 3S Auto Customer Service - Setup Drivers\n                </div>\n                <div class="card-block">\n                   <tabset>\n                        <tab *ngFor="let d of Drivers | async"\n                            [heading]="d.fname + \' \' + d.lname" [active]="true" \n                            (select)="selectDriver(d)"\n                            >\n                        </tab>\n                        <tab  class="pull-right" heading="New" (select)="driverfname = \'\'; driverlname = \'\'; driverphone =\'\'; driverpassword=\'\'"></tab>\n                   </tabset>\n \n                    <form class="form-inline">\n                        <span class="radio">\n                            <input class="form-control" required [(ngModel)]="driverfname" placeholder="Driver first name">\n                            <input class="form-control" required [(ngModel)]="driverlname" placeholder="Driver last name"><br>\n                            <input class="form-control" required [(ngModel)]="driverphone" placeholder="Driver phone number">\n                            <input class="form-control" type="password" required [(ngModel)]="driverpassword" placeholder="Password"><br>\n                            <input  [hidden]="true" class="form-control" [(ngModel)]="driveraddress" placeholder="Driver address"><br>\n                        </span><br>\n                        <button class="btn btn-primary-outline btn-sm" [disabled]="!(driverfname && driverlname && driverphone)" (click)="SaveDriver(driverfname , driverlname , driverphone,driverpassword,driveraddress)">Save</button>\n                        <button class="btn btn-primary-outline btn-sm" [disabled]="!selectedDriver || !driverphone" [hidden]="suredeleteDriver" (click)="suredeleteDriver = true">Delete</button>\n                    </form>\n                    \n                    <button class="btn btn-primary-outline btn-sm" [hidden]="!selectedDriver || !suredeleteDriver" (click)="deleteDriver()" style="color:Crimson">Delete {{driverfname}} {{driverlname}}? Yes</button>\n                    <button class="btn btn-primary-outline btn-sm" [hidden]="!selectedDriver || !suredeleteDriver" (click)="suredeleteDriver = false" style="color:DarkGreen">Cancel</button>\n                </div>\n                <div *ngIf="driverErrMsg" class="card-footer card-inverse card-warning">\n                    {{driverErrMsg}}\n                </div>\n            </div>\n            </div>\n\n\n  '}),e("design:paramtypes",[h.Router,i.AngularFire,g.RoleService])],a)}();return b.Drivers=m,c.exports}),System.registerDynamic("app/Employees.js",["@angular/core","./role.service","@angular/router","angularfire2","ng2-bootstrap/components/datepicker","ng2-bootstrap/components/timepicker","ng2-bootstrap/components/tabs"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./role.service"),h=a("@angular/router"),i=a("angularfire2"),j=a("ng2-bootstrap/components/datepicker"),k=a("ng2-bootstrap/components/timepicker"),l=a("ng2-bootstrap/components/tabs"),m=function(){function a(a,b,c){this.af=b,this.rs=c,this.employeeErrMsg="",this.driverErrMsg="",this.suredeleteDriver=!1,this.suredeleteEmployee=!1,this.isLoggedIn=!1,this.parentRouter=a,this.selecteddealer=this.rs.dealer,this.uid=this.rs.uid,this.ownerid=this.rs.ownerId,this.phone=this.rs.phone,this.ownerid&&this.selecteddealer||this.parentRouter.navigateByUrl("/admin/AdminLogin"),this.loadEmployee()}return a.prototype.clearAll=function(){this.Employees=null,a.s_employee=null,this.selectedEmployee="",this.employeefname="",this.employeelname="",this.employeeaddress="",this.employeephone="",a.s_err=""},a.prototype.loadEmployee=function(){var b=this;this.clearAll(),this.Employees=this.af.list("/users/"+this.ownerid+"/employees");var c=this.af.database.list("/users/"+this.ownerid+"/employees",{query:{limitToFirst:1}});c.subscribe(function(b){b&&b.map(function(b){a.s_employee=b})}),setTimeout(function(){a.s_employee&&b.selectEmployee(a.s_employee)},1e3)},a.prototype.SaveEmployee=function(b,c,d,e,f){var g=this,h=this.rs.genEmail(d);e&&void 0!==e||(e=this.rs.clearPhone(d)),a.s_uid="",a.s_err="",this.af.auth.createUser({email:h,password:e}).then(function(b){a.s_uid=b.uid})["catch"](function(b){switch(b.code){case"INVALID_EMAIL":a.s_err="The specified phone is invalid.";break;default:a.s_err="Error creating user:"+b;break;case"EMAIL_TAKEN":a.s_err="The new user account cannot be created because the phone is already in use. Use the credential to setup driver."}}),setTimeout(function(){g.employeeErrMsg=a.s_err;var e=a.s_uid;""!=e&&(g.employeeErrMsg="",g.af.database.object("/users/"+g.ownerid+"/employees/"+e).update({uid:e,email:"",fname:b,lname:c,phone:d,address:""}),g.af.object("/users/"+e).update({uid:e,email:"",fname:b,lname:c,phone:d,role:3,ownerid:g.ownerid,dealername:g.selecteddealer,password:"secret",address:""}))},1300),setTimeout(function(){g.employeeErrMsg=""},18e3)},a.prototype.selectEmployee=function(a){this.selectedEmployee=a.uid,this.employeefname=a.fname,this.employeelname=a.lname,this.employeeaddress=a.address,this.employeephone=a.phone},a.prototype.deleteEmployee=function(){this.af.object("/users/"+this.selectedEmployee).remove(),this.af.object("/users/"+this.ownerid+"/employees/"+this.selectedEmployee).remove(),this.suredeleteEmployee=!1},a.s_err="",a.s_uid="",a=d([f.Component({selector:"owner",directives:[l.TAB_DIRECTIVES,h.ROUTER_DIRECTIVES,k.TimepickerComponent,j.DATEPICKER_DIRECTIVES],template:'\n\n            <div class=" text-xs-center text-lg-center  text-md-center col-xs-12 col-sm-12  col-md-8 col-lg-offset-2 col-lg-8">\n            <div class="card ">\n                <div class="card-header card-inverse card-info">\n                    {{selecteddealer}} &nbsp; 3S Auto Customer Service - Setup Employee\n                </div>\n                <div class="card-block">\n                    <tabset>\n                        <tab *ngFor="let d of Employees | async"\n                            [heading]="d.fname + \' \' + d.lname" [active]="true" \n                            (select)="selectEmployee(d)"\n                            >\n                        </tab>\n                        <tab  class="pull-right" heading="New" (select)="employeefname = \'\'; employeelname = \'\'; employeephone =\'\'; employeepassword=\'\'"></tab>\n                    </tabset>\n                    <form class="form-inline">\n                        <span class="radio">\n                            <input class="form-control" required [(ngModel)]="employeefname" placeholder="Employee first name">\n                            <input class="form-control" required [(ngModel)]="employeelname" placeholder="Employee last name"><br>\n                            <input class="form-control" required [(ngModel)]="employeephone" placeholder="Employee phone number">\n                            <input class="form-control" type="password" required [(ngModel)]="employeepassword" placeholder="Password"><br>\n                            <input [hidden]="true" class="form-control" [(ngModel)]="employeeaddress" placeholder="Employee address"><br>\n                        </span><br>\n                        <button class="btn btn-primary-outline btn-sm" [disabled]="!(employeefname && employeelname && employeephone)" (click)="SaveEmployee(employeefname , employeelname , employeephone,employeepassword, employeeaddress)">Save</button>\n                        <button class="btn btn-primary-outline btn-sm" [disabled]="!selectedEmployee || !employeephone " [hidden]="suredeleteEmployee" (click)="suredeleteEmployee = true">Delete</button>\n                    </form>\n                    \n                    <button class="btn btn-primary-outline btn-sm" [hidden]="!selectedEmployee || !suredeleteEmployee" (click)="deleteEmployee()" style="color:Crimson">Delete {{employeefname}} {{employeelname}}? Yes</button>\n                    <button class="btn btn-primary-outline btn-sm" [hidden]="!selectedEmployee || !suredeleteEmployee" (click)="suredeleteEmployee = false" style="color:DarkGreen">Cancel</button>\n                </div>\n  \n                <div *ngIf="employeeErrMsg" class="card-footer card-inverse card-warning">\n                    {{employeeErrMsg}}\n                </div>\n            </div>\n            </div>\n\n\n\n  '}),e("design:paramtypes",[h.Router,i.AngularFire,g.RoleService])],a)}();return b.Employees=m,c.exports}),System.registerDynamic("app/Report.js",["@angular/core","./role.service","@angular/router","angularfire2","ng2-bootstrap/components/datepicker","ng2-bootstrap/components/timepicker"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./role.service"),h=a("@angular/router"),i=a("angularfire2"),j=a("ng2-bootstrap/components/datepicker"),k=a("ng2-bootstrap/components/timepicker"),l=function(){function a(b,c,d){var e=this;this.af=c,this.rs=d,this.employeeErrMsg="",this.driverErrMsg="",this.suredeleteDriver=!1,this.suredeleteEmployee=!1,this.isLoggedIn=!1,this.parentRouter=b,this.selecteddealer=this.rs.dealer,this.uid=this.rs.uid,this.ownerid=this.rs.ownerId,this.phone=this.rs.phone,this.ownerid&&this.selecteddealer||this.parentRouter.navigateByUrl("/admin/AdminLogin"),this.RptDates=this.af.list("/users/"+this.ownerid+"/shuttle"),this.RptDates.subscribe(function(b){b&&b.map(function(b){a.s_date=b.$key})}),setTimeout(function(){e.selectDate(a.s_date)},1e3)}return a.prototype.selectDate=function(a){void 0!==a&&a&&(this.RptDetails=this.af.database.list("/users/"+this.ownerid+"/shuttle/"+a))},a=d([f.Component({selector:"owner",directives:[h.ROUTER_DIRECTIVES,k.TimepickerComponent,j.DATEPICKER_DIRECTIVES],template:'\n            <div class=" text-xs-center text-lg-center  text-md-center col-xs-12 col-sm-12  col-md-8 col-lg-offset-2 col-lg-8">\n            <div class="card ">\n                <div class="card-header card-inverse card-info">\n                    {{selecteddealer}} &nbsp; 3S Auto Customer Service - Shuttle daily report\n                </div>            \n                <div class="card-block">\n                    <div *ngIf="RptDates">\n                        <label *ngFor="let d of RptDates | async">\n                            <input class="radio-inline" type="radio" name="nDrivers" (click)="selectDate(d.$key)" checked="checked"> {{d.$key }} &nbsp; &nbsp;\n                        </label><br />\n                        <blockquote class="card-blockquote">\n                            <table  class="table table-bordered  table-sm">\n                                <thead>\n                                <tr>\n                                    <th> First</th>\n                                    <th> Last</th>\n                                    <th> Phone</th>\n                                    <th>Address</th>\n                                    <th>Pickup?</th>\n                                    <th>Drop By</th>\n                                    <th>Pickup By</th>\n                                </tr>\n                                </thead>\n                                <tr *ngFor="let kk of RptDetails | async">\n                                    <td> {{kk.fname }}</td>\n                                    <td> {{kk.lname }} </td>\n                                    <td> {{kk.phone }} </td>\n                                    <td> {{kk.address}} </td>\n                                    <td>\n                                        <label *ngIf="kk.pickup" [style.color]="kk.pickup ? \'red\' : \'green\'">Yes </label>\n                                        <label *ngIf="!kk.pickup" [style.color]="kk.pickup ? \'red\' : \'green\'">No </label>\n                                    </td>\n                                    <td>\n                                        {{kk.dropby}} <label *ngIf="kk.dropby">{{kk.droptime}}</label>\n                                    </td>\n                                    <td>\n                                        {{kk.pickupby}} <label *ngIf="kk.pickupby">{{kk.pickuptime}}</label>\n                                    </td>\n                                </tr>\n\n                            </table>\n                        </blockquote>\n                    </div>\n                </div>\n            </div>\n            </div>\n\n\n  '}),e("design:paramtypes",[h.Router,i.AngularFire,g.RoleService])],a)}();return b.Report=l,c.exports}),System.registerDynamic("app/AdminLogin.js",["@angular/core","./role.service","@angular/common","@angular/router","ng2-bootstrap/ng2-bootstrap","angularfire2"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./role.service"),h=a("@angular/common"),i=a("@angular/router"),j=a("ng2-bootstrap/ng2-bootstrap"),k=a("angularfire2"),l=function(){function a(a,b,c,d,e){this.router=a,this.zone=b,this.rs=c,this.af=d,this.loc=e}return a.prototype.authWithPassword=function(a,b){var c=this;return this.errmsg="",this.af.auth.login({email:this.rs.genEmail(a),password:this.password}).then(function(a){c.authData=a,c.rs.uid=a.uid;var b=c.af.object("/users/"+c.authData.uid);b.update({lastlogin:(new Date).toISOString()}),b.subscribe(function(a){a.role;c.rs.dealer=a.dealername,c.rs.role=a.role,c.rs.uid=a.uid,c.rs.ownerId=a.ownerid,c.rs.phone=a.phone,c.rs.fname=a.fname,c.rs.lname=a.lname})})["catch"](function(a){c.errmsg=a,console.log(a)}),setTimeout(function(){if(c.loc.path().indexOf("AdminLogin")>-1||c.loc.path().indexOf("/admin")>-1)switch(c.rs.role){case 1:c.router.navigate(["/admin/MemberHome"]);break;case 2:c.router.navigate(["/admin/DriverHome"]);break;case 3:c.router.navigate(["/admin/EmployeeHome"]);break;case 4:c.router.navigate(["/admin/Employees"]);break;default:console.log("WTF, should not have this role at all.")}},1e3),setTimeout(function(){c.errmsg=""},5e3),!0},a.prototype.doneTypingPhone=function(a,b,c){this.errmsg="",c.focus(),c.select()},a=d([f.Component({selector:"display",template:'\n        <div class="vertical-center">\n            <div class="container">\n                <div class="span12  centered-text  text-xs-center text-lg-center  text-md-center col-xs-12 col-sm-12  col-md-8 col-lg-offset-4 col-lg-4">\n                    <div class="card ">\n                        <div class="card-header card-inverse card-info">\n                            3S Auto Customer Service Admin\n                        </div>\n\n                        <div class="card-block">\n                            <input class="form-control" required [(ngModel)]="phone" placeholder="Phone number" (keyup.enter)="doneTypingPhone($event,phone,pass)"><br>\n                            <input class="form-control" #pass type="password" required [(ngModel)]="password" placeholder="Password" (keyup.enter)="btngo.focus()"><br>\n                            <button class="btn btn-primary-outline btn-sm" #btngo [disabled]="!(phone && password)" (click)="authWithPassword(phone,password)">Sign in</button>\n                        </div>\n                        <div *ngIf="errmsg" class="card-footer card-inverse card-warning">\n                            {{errmsg}}\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n\n	',directives:[h.NgFor,j.ACCORDION_DIRECTIVES,h.CORE_DIRECTIVES,h.FORM_DIRECTIVES]}),e("design:paramtypes",[i.Router,f.NgZone,g.RoleService,k.AngularFire,h.Location])],a)}();return b.AdminLogin=l,c.exports}),System.registerDynamic("app/role.service.js",["@angular/core"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=function(){function a(){this._role=0,this._dealerName="",this._uid="",this._ownerId="",this._phone="",this._fname="",this._lname=""}return Object.defineProperty(a.prototype,"fname",{get:function(){return this._fname},set:function(a){this._fname=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lname",{get:function(){return this._lname},set:function(a){this._lname=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"phone",{get:function(){return this._phone},set:function(a){this._phone=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"role",{get:function(){return this._role},set:function(a){this._role=a,0==a&&(this._dealerName="",this._uid="",this._ownerId="",this._phone="",this._fname="",this._lname="")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dealer",{get:function(){return this._dealerName},set:function(a){this._dealerName=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"uid",{get:function(){return this._uid},set:function(a){this._uid=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"ownerId",{get:function(){return this._ownerId},set:function(a){this._ownerId=a},enumerable:!0,configurable:!0}),a.prototype.clearPhone=function(a){return a.trim().replace("-","").replace("_","").replace("(","").replace(")","").replace(" ","").replace(".","").replace("+","")},a.prototype.genEmail=function(a){return this.clearPhone(a)+"@3s.com"},a.prototype.getTodayId=function(){return(new Date).toISOString().substr(0,10)},a=d([f.Injectable(),e("design:paramtypes",[])],a)}();return b.RoleService=g,c.exports}),System.registerDynamic("app/Signup.js",["@angular/core","./role.service","@angular/common","@angular/router","angularfire2"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./role.service"),h=a("@angular/common"),i=a("@angular/router"),j=a("angularfire2"),k=function(){function a(a,b,c,d){this.auth0=a,this.rs=c,this.af=d,this.parentRouter=b}return a.prototype.signupStore=function(b,c,d,e,f,g,h){var i=this;e&&void 0!==e||(e=this.rs.clearPhone(g));var j=this.rs.genEmail(g);this.af.auth.createUser({email:j,password:e}).then(function(b){a.uu=b.uid,localStorage.setItem("uid",b.uid)})["catch"](function(a){switch(a.code){case"INVALID_EMAIL":console.log("The specified email is not a valid email."),this.errmsg="The specified phone is invalid.";break;default:this.errmsg="Error creating user:"+a,console.log("Error creating user:",a);break;case"EMAIL_TAKEN":this.errmsg="The new user account cannot be created because the phone is already in use. Use the credential to setup store.",console.log("The new user account cannot be created because the phone is already in use. Use the credential to setup store.")}}),setTimeout(function(){i.uid=localStorage.getItem("uid"),localStorage.setItem("uid",""),i.af.auth.login({email:j,password:e}).then(function(a){var e=!0;f&&void 0!==f||(e=!1),i.uid&&(e?(i.af.database.object("/users/"+i.uid).update({uid:i.uid,email:d,fname:b,lname:c,phone:g,role:4,ownerid:i.uid,dealername:f,password:"secret"}),i.af.database.object("/dealers/"+i.uid).update({dealername:f,uid:i.uid})):i.af.database.object("/users/"+i.uid).update({uid:i.uid,email:d,fname:b,lname:c,phone:g,role:1,ownerid:"",dealername:"",password:"secret"}),i.parentRouter.navigateByUrl("/admin/Employees"))})},1500),setTimeout(function(){i.errmsg=""},5e3)},a=d([f.Component({selector:"display",directives:[h.NgFor],providers:[g.RoleService],template:'\n             <div class=" text-xs-center text-lg-center  text-md-center col-xs-12 col-sm-12  col-md-8 col-lg-offset-2 col-lg-8">\n        <div class="card">\n            <div class="card-header card-inverse card-info">\n                3S Auto Customer Service - Register\n            </div>\n            <div class="card-block">\n                <form class="form-inline">\n                    <span class="radio">\n                        <input class="form-control" required [(ngModel)]="dealername" placeholder="Dealer Name"><br>\n                        <input class="form-control" required [(ngModel)]="fname" placeholder="First name"><input class="form-control" required [(ngModel)]="lname" placeholder="Last name"><br>\n                        <input class="form-control" required [(ngModel)]="phone" placeholder="Phone"><input class="form-control" type="password" required #password placeholder="Password"><br>\n                        <input class="form-control" required [(ngModel)]="email" placeholder="User email"><input class="form-control" required [(ngModel)]="address" placeholder="Address"><br>\n                    </span><br>\n                    <button class="btn btn-primary-outline btn-sm" [disabled]="!(fname && lname && phone )" (click)="signupStore(fname, lname,email,password.value,dealername,phone,address)">Signup</button>\n                </form>\n            </div>\n            <div *ngIf="errmsg" class="card-header card-inverse card-warning">\n                {{errmsg}}\n            </div>\n        </div>\n\n    </div>\n\n	'}),e("design:paramtypes",[j.FirebaseAuth,i.Router,g.RoleService,j.AngularFire])],a)}();return b.Signup=k,c.exports}),System.registerDynamic("app/main.component.js",["@angular/core","@angular/router","./admin.component","./s4.component","./Login","./About","./MemberHome","./EmployeeHome","./Booking.Component","./DriverHome","./Drivers","./Employees","./Report","./AdminLogin","./role.service","./Signup"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router"),h=a("./admin.component"),i=a("./s4.component"),j=a("./Login"),k=a("./About"),l=a("./MemberHome"),m=a("./EmployeeHome"),n=a("./Booking.Component"),o=a("./DriverHome"),p=a("./Drivers"),q=a("./Employees"),r=a("./Report"),s=a("./AdminLogin"),t=a("./role.service"),u=a("./Signup"),v=function(){function a(a,b){this.router=a,this.rs=b,"/admin"===location.pathname?this.router.navigateByUrl("/admin/AdminLogin"):"/home"===location.pathname&&this.router.navigateByUrl("/home/Login"),this.router.navigateByUrl("/home/Login")}return a=d([f.Component({selector:"app-main",directives:[g.ROUTER_DIRECTIVES],templateUrl:"app/main.component.html"}),g.Routes([{path:"/admin",component:h.AdminComponent},{path:"/Admin",component:h.AdminComponent},{path:"/#/admin",component:h.AdminComponent},{path:"/",component:i.S4AppComponent},{path:"/home",component:i.S4AppComponent},{path:"/home/Login",component:j.Login},{path:"/home/MemberHome",component:l.MemberHome},{path:"/home/About",component:k.About},{path:"/admin/AdminLogin",component:s.AdminLogin},{path:"/admin/Signup",component:u.Signup},{path:"/admin/EmployeeHome",component:m.EmployeeHome},{path:"/admin/Booking",component:n.BookingComponent},{path:"/admin/Report",component:r.Report},{path:"/admin/Drivers",component:p.Drivers},{path:"/admin/Employees",component:q.Employees},{path:"/admin/DriverHome",component:o.DriverHome},{path:"/admin/About",component:k.About}]),e("design:paramtypes",[g.Router,t.RoleService])],a)}();return b.MainComponent=v,c.exports}),System.registerDynamic("app/index.js",["./environment","./main.component"],!0,function(a,b,c){"use strict";var d=a("./environment");b.environment=d.environment;var e=a("./main.component");return b.MainComponent=e.MainComponent,c.exports});